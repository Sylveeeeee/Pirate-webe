import { defineEventHandler, createError } from 'h3';

export default defineEventHandler(async (event) => {
  // à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ params à¸‚à¸­à¸‡ URL à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ event.node
  const id = event.context.params?.id as string;
  
  // à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸´à¸™à¸„à¹‰à¸²
  const products = [
    { id: 1, name: 'Naraka', price: 5200, image: '/naraka2.jpg', image2: '/dnrk.jpg', image3: '/dnrk2.jpg',imageC: '/nrk.jpg',detail: 'Red Skins : 9 à¸ªà¸à¸´à¸™à¸­à¸²à¸§à¸¸à¸˜à¸—à¸­à¸‡à¸«à¸¥à¸±à¸ + à¸Šà¸¸à¸”à¸—à¸­à¸‡à¸ªà¸§à¸¢à¹†à¸„à¸£à¸š à¸¡à¸µà¸­à¸±à¸™à¸•à¸´à¹à¸›à¸£à¸‡à¸£à¹ˆà¸²à¸‡ 3 à¸•à¸±à¸§ : Tianhai / Yueshan / FerriaShen' },
    { id: 2, name: 'Digimon', price: 600, image: '/dddm.jpg', image2: '/dgd.jpg', image3: '/dgd2.jpg',imageC: '/dg.jpg',detail: 'Full Digimon Max Level : 100+' },
    { id: 3, name: 'Wukong', price: 1400, image: '/wkk.jpg', image2: '/dwk.jpg', image3: '/dwk2.jpg',imageC: '/wk.jpg',detail: '  à¹€à¸›à¹‡à¸™à¹€à¸à¸¡à¹à¸­à¹‡à¸à¸Šà¸±à¸™à¸œà¸ˆà¸à¸ à¸±à¸¢à¸›à¸µ 2024 à¸—à¸µà¹ˆà¸à¸±à¸’à¸™à¸²à¹à¸¥à¸°à¸ˆà¸±à¸”à¸ˆà¸³à¸«à¸™à¹ˆà¸²à¸¢à¹‚à¸”à¸¢à¸šà¸£à¸´à¸©à¸±à¸—à¹€à¸à¸¡à¹„à¸‹à¹à¸­à¸™à¸‹à¹Œ à¸•à¸±à¸§à¹€à¸à¸¡à¹„à¸”à¹‰à¸£à¸±à¸šà¹à¸£à¸‡à¸šà¸±à¸™à¸”à¸²à¸¥à¹ƒà¸ˆà¸¡à¸²à¸ˆà¸²à¸à¸§à¸£à¸£à¸“à¸à¸£à¸£à¸¡à¸ˆà¸µà¸™à¸„à¸¥à¸²à¸ªà¸ªà¸´à¸à¹€à¸£à¸·à¹ˆà¸­à¸‡à¹„à¸‹à¸­à¸´à¹‹à¸§ à¹‚à¸”à¸¢à¸¡à¸µà¸•à¸±à¸§à¸¥à¸°à¸„à¸£à¸«à¸¥à¸±à¸à¹€à¸›à¹‡à¸™à¸¥à¸´à¸‡à¹€à¸œà¸·à¸­à¸à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸šà¹à¸£à¸‡à¸šà¸±à¸™à¸”à¸²à¸¥à¹ƒà¸ˆà¸¡à¸²à¸ˆà¸²à¸à¸•à¸±à¸§à¸¥à¸°à¸„à¸£à¸‹à¸¸à¸™ à¸«à¸‡à¸­à¸„à¸‡ ' },
    { id: 4, name: 'APEX', price: 4800, image: '/apex.jpg', image2: '/dapx.jpg', image3: '/dapx2.jpg',imageC: '/apx.jpg',detail: 'Level : 210 Gold item : 155+ à¸›à¸·à¸™à¸«à¸¥à¸±à¸à¸„à¸£à¸š à¸ªà¸à¸´à¸™à¸—à¸§à¸´à¸• Horizon à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¸²à¸¢à¹€à¹€à¸¥à¹‰à¸§  ğŸ’¯' },
    { id: 5, name: 'Green hell', price: 300, image: '/grh.jpg', image2: '/dgrh.jpg', image3: '/dgrh2.jpg',imageC: '/gh.jpg',detail: 'à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¹‚à¸¥à¸à¹‚à¸­à¹€à¸à¸™à¹€à¸§à¸´à¸¥à¸”à¹Œà¸—à¸µà¹ˆà¸ˆà¸³à¸¥à¸­à¸‡à¸à¸²à¸£à¹€à¸­à¸²à¸•à¸±à¸§à¸£à¸­à¸”à¸ˆà¸²à¸à¸ªà¸ à¸²à¸à¹à¸§à¸”à¸¥à¹‰à¸­à¸¡à¸ªà¸¸à¸”à¸‚à¸±à¹‰à¸§à¹ƒà¸™à¸›à¹ˆà¸²à¹à¸­à¸¡à¸°à¸‹à¸­à¸™à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹€à¸„à¸¢à¸¡à¸µà¸œà¸¹à¹‰à¹ƒà¸”à¸à¹‰à¸²à¸§à¹€à¸‚à¹‰à¸²à¹„à¸› à¹ƒà¸Šà¹‰à¹€à¸—à¸„à¸™à¸´à¸„à¸à¸²à¸£à¹€à¸­à¸²à¸Šà¸µà¸§à¸´à¸•à¸£à¸­à¸”à¸ˆà¸²à¸à¸Šà¸µà¸§à¸´à¸•à¸ˆà¸£à¸´à¸‡à¸¡à¸²à¸›à¸£à¸°à¸”à¸´à¸©à¸à¹Œ à¸­à¸­à¸à¸¥à¹ˆà¸² à¸•à¹ˆà¸­à¸ªà¸¹à¹‰ à¹à¸¥à¸°à¹€à¸à¹‡à¸šà¸—à¸£à¸±à¸à¸¢à¸²à¸à¸£ à¸ªà¸£à¹‰à¸²à¸‡à¸—à¸µà¹ˆà¸«à¸¥à¸šà¸ à¸±à¸¢à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸«à¸£à¸·à¸­à¸ªà¸£à¹‰à¸²à¸‡à¸›à¹‰à¸­à¸¡à¸›à¸£à¸²à¸à¸²à¸£ à¸£à¸±à¸à¸©à¸²à¸šà¸²à¸”à¹à¸œà¸¥à¹à¸¥à¸°à¸£à¸±à¸à¸©à¸²à¸ªà¸ à¸²à¸à¸ˆà¸´à¸•à¹ƒà¸ˆà¸‚à¸­à¸‡à¸„à¸¸à¸“à¹ƒà¸«à¹‰à¸”à¸µ à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸ˆà¸°à¸•à¸²à¸¡à¸¥à¸³à¸à¸±à¸‡à¸«à¸£à¸·à¸­à¸£à¹ˆà¸§à¸¡à¸¡à¸·à¸­à¸à¸±à¸šà¹€à¸à¸·à¹ˆà¸­à¸™à¸à¹‡à¸•à¸²à¸¡' },
    { id: 6, name: 'Rainbow 6', price: 1000, image: '/rain6.jpg', image2: '/dr6.jpg', image3: '/dr62.jpg',imageC: '/r6.jpg',detail: 'à¸­à¸±à¸¥à¸•à¸´à¹€à¸¡à¸—à¹€à¸­à¸”à¸´à¸Šà¸±à¹ˆà¸™ à¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢ à¹€à¸à¸¡à¸•à¸±à¸§à¹€à¸•à¹‡à¸¡, à¹€à¸ˆà¹‰à¸²à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ 50 à¸£à¸²à¸¢à¸ˆà¸²à¸ à¸›à¸µ 1 à¸–à¸¶à¸‡ à¸›à¸µ 8 à¹à¸¥à¸°à¹à¸à¹‡à¸„à¸‚à¸­à¸‡à¸•à¸à¹à¸•à¹ˆà¸‡ Disruptor "à¸«à¸™à¸¶à¹ˆà¸‡à¹ƒà¸™à¹€à¸à¸¡à¸¢à¸´à¸‡à¸¡à¸¸à¸¡à¸¡à¸­à¸‡à¸šà¸¸à¸„à¸„à¸¥à¸—à¸µà¹ˆà¸«à¸™à¸¶à¹ˆà¸‡à¸—à¸µà¹ˆà¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹€à¸—à¹ˆà¸²à¸—à¸µà¹ˆà¹€à¸„à¸¢à¸¡à¸µà¸¡à¸²" â€”GameSpot à¹€à¸£à¸™à¹‚à¸šà¸§à¹Œ à¸‹à¸´à¸à¸‹à¹Œ à¸‹à¸µà¸ˆ à¹€à¸›à¹‡à¸™à¹€à¸à¸¡à¸¢à¸´à¸‡à¹à¸™à¸§à¹à¸—à¸„à¸•à¸´à¸à¹à¸šà¸šà¸—à¸µà¸¡à¸Šà¸±à¹‰à¸™à¸¢à¸­à¸”à¹à¸¥à¸°à¸ªà¸¡à¸ˆà¸£à¸´à¸‡ à¸—à¸µà¹ˆà¸à¸²à¸£à¸§à¸²à¸‡à¹à¸œà¸™à¹à¸¥à¸°à¸›à¸à¸´à¸šà¸±à¸•à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸«à¸™à¸·à¸­à¸Šà¸±à¹‰à¸™à¸™à¸³à¹„à¸›à¸ªà¸¹à¹ˆà¸Šà¸±à¸¢à¸Šà¸™à¸°' },
    { id: 7, name: 'Grand Chase', price: 300, image: '/grc.jpg', image2: '/dgc.jpg', image3: '/gc2.jpg',imageC: '/gc.jpg',detail: 'Grand Chase is a free side-scrolling online action RPG with anime inspired graphics. Enjoy exciting adventures in dungeons and PvP with unique characters.' },
    { id: 8, name: 'Gundam 4', price: 1300, image: '/gu4.jpg', image2: '/dg4.jpg', image3: '/dg42.jpg',imageC: '/g4.jpg',detail: 'à¸œà¸¥à¸‡à¸²à¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸ˆà¸²à¸à¸‹à¸µà¸£à¸µà¸ªà¹Œ "GUNDAM BREAKER" à¸•à¹ˆà¸­à¸ªà¸¹à¹‰à¸”à¹‰à¸§à¸¢ "à¸à¸±à¸™à¸à¸¥à¸²" à¸—à¸µà¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡à¸Šà¸´à¹‰à¸™à¸ªà¹ˆà¸§à¸™à¹„à¸”à¹‰à¸–à¸¶à¸‡ 11 à¸ªà¹ˆà¸§à¸™ à¹à¸¥à¸°à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸­à¸²à¸§à¸¸à¸˜à¸”à¹‰à¸²à¸™à¸‹à¹‰à¸²à¸¢à¹à¸¥à¸°à¸‚à¸§à¸²à¸—à¸µà¹ˆà¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™à¹„à¸”à¹‰à¹€à¸›à¹‡à¸™à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸ à¸à¸£à¹‰à¸­à¸¡à¹à¸­à¹‡à¸à¸Šà¸±à¸™à¸—à¸µà¹ˆà¸§à¸´à¸§à¸±à¸’à¸™à¸²à¸à¸²à¸£à¸‚à¸¶à¹‰à¸™à¸­à¸µà¸à¸‚à¸±à¹‰à¸™ à¹à¸¥à¸° "à¹‚à¸«à¸¡à¸”à¹‚à¸¡à¹€à¸”à¸¥à¸ˆà¸³à¸¥à¸­à¸‡" à¸‹à¸¶à¹ˆà¸‡à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸à¸·à¹‰à¸™à¸«à¸¥à¸±à¸‡à¹à¸¥à¸°à¹€à¸­à¸Ÿà¹€à¸Ÿà¸à¸•à¹Œà¹€à¸à¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡à¹à¸¥à¸°à¸ˆà¸±à¸”à¹à¸ªà¸”à¸‡ "à¸à¸±à¸™à¸à¸¥à¸²" à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹€à¸­à¸‡!' },
    { id: 9, name: 'DragonBall Z', price: 300, image: '/draz.jpg', image2: '/dgz.jpg', image3: '/dgz2.jpg',imageC: '/dz.jpg',detail: 'à¸ªà¸™à¸¸à¸à¹„à¸›à¸à¸±à¸šà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸£à¸²à¸§à¸‚à¸­à¸‡à¹‚à¸à¸„à¸¹à¹à¸¥à¸°à¹€à¸«à¸¥à¹ˆà¸²à¸¢à¸­à¸”à¸™à¸±à¸à¸ªà¸¹à¹‰ Z à¸ à¸²à¸¢à¹ƒà¸™à¹‚à¸¥à¸à¸‚à¸­à¸‡ DRAGON BALL Z: KAKAROT! à¸—à¸µà¹ˆà¸‹à¸¶à¹ˆà¸‡à¸™à¸­à¸à¸ˆà¸²à¸à¸à¸²à¸£à¸•à¹ˆà¸­à¸ªà¸¹à¹‰à¸™à¹ˆà¸²à¸•à¸·à¹ˆà¸™à¸•à¸²à¹à¸¥à¹‰à¸§ à¸¢à¸±à¸‡à¸¡à¸µà¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸­à¸·à¹ˆà¸™à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¸•à¸à¸›à¸¥à¸² à¸—à¸³à¸­à¸²à¸«à¸²à¸£ à¹à¸¥à¸°à¸à¸²à¸£à¸à¸¶à¸à¸§à¸´à¸Šà¸²à¸à¸±à¸šà¹‚à¸à¸„à¸¹à¹à¸¥à¸°à¸™à¸±à¸à¸ªà¸¹à¹‰à¸„à¸™à¸­à¸·à¹ˆà¸™à¹† à¸‚à¸“à¸°à¸­à¸­à¸à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸œà¸ˆà¸à¸ à¸±à¸¢à¹„à¸›à¹ƒà¸™à¸ˆà¸±à¸à¸£à¸§à¸²à¸¥ DRAGON BALL Z!' },
    { id: 10, name: 'Ark Survival', price: 300, image: '/survival.jpg', image2: '/dark.jpg', image3: '/dark2.jpg',imageC: '/ark.jpg',detail: 'ARK is reimagined from the ground-up into the next-generation of video game technology with Unreal Engine 5! Form a tribe, tame & breed hundreds of unique dinosaurs and primeval creatures, explore, craft, build, and fight your way to the top of the food-chain. Your new world awaits!' },
  ];

  // à¸„à¹‰à¸™à¸«à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²à¸•à¸²à¸¡ ID
  const product = products.find(p => p.id === parseInt(id));

  // à¸«à¸²à¸à¹„à¸¡à¹ˆà¸à¸šà¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸«à¹‰à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”
  if (!product) {
    throw createError({ statusCode: 404, statusMessage: 'Product not found' });
  }

  return product;
});
